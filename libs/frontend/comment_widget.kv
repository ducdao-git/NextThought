<CommentOptionButton>
    size_hint: 1, 1
    markup: True
    color: app.theme_palette['support_text_color']
    edit_icon: '%s' % icon('pencil-alt', int(sp(15)))
    delete_icon: '%s' % icon('trash-alt', int(sp(15)))
    error_icon: '%s' % icon('exclamation-circle', int(sp(15)))


<TopCommentView>
    orientation: 'vertical'
    size_hint: 1, None
    height: self.minimum_height
    padding: dp(20)
    spacing: dp(8)

    canvas.before:
        Color:
            rgba: app.theme_palette['comment_background_color']
        RoundedRectangle:
#            radius: [(20.0, 20.0), (20.0, 20.0), (20.0, 20.0), (20.0, 20.0)]
            pos: self.pos[0] + dp(8), self.pos[1] + dp(8)
            size: self.size[0] - dp(16), self.size[1] - dp(16)

    BoxLayout:
        orientation: 'horizontal'
        size_hint: 1, None
        height: self.minimum_height

        Label:
            id: top_comment_owner_name
            size_hint: 9, None
            # only need one specify size for the whole row to have minimum height
            height: self.texture_size[1]
            padding: dp(8), dp(0)
            text_size: self.width, None
            valign: 'center'
            halign: 'left'
            markup: True
            color: app.theme_palette['text_background_color']

        BoxLayout:
            id: top_comment_option_holder
            orientation: 'horizontal'
            size_hint: 2, 1

    Label:
        id: top_comment_content
        size_hint: 1, None
        height: self.texture_size[1]
        padding: dp(8), dp(0)
        text_size: self.width, None
        color: app.theme_palette['text_background_color']

    BoxLayout:
        size_hint: 1, None
        height: self.minimum_height
        orientation: 'horizontal'

        IconButton:
            id: top_comment_upvote_num
            size_hint: 1, None
            height: self.texture_size[1]
            color: app.theme_palette['support_text_color']
            icon: '%s' % icon('heart', int(sp(10)))
            on_release: root.top_comment_upvote()

        IconButton:
            id: top_comment_comment_num
            size_hint: 1, 1
            color: app.theme_palette['support_text_color']
            font_size: sp(14)
            icon: '%s' % icon('comment-alt', int(sp(10)))
            on_release: root.focus_new_comment_input()

        Label:
            id: top_comment_time
            size_hint: 7, 1
            text_size: self.size
            halign: 'right'
            padding: dp(8), dp(0)
            font_size: sp(14)
            color: app.theme_palette['support_text_color']


<CommentView>
    orientation: 'horizontal'
    size_hint: 1, None
    height: self.minimum_height

    Label:
        size_hint: None, 1
        width: dp(50)

    BoxLayout:
        orientation: 'vertical'
        size_hint: 1, None
        height: self.minimum_height
        padding: dp(20)
        spacing: dp(8)

        canvas.before:
            Color:
                rgba: app.theme_palette['comment_background_color']
            RoundedRectangle:
                pos: self.pos[0] + dp(8), self.pos[1] + dp(8)
                size: self.size[0] - dp(16), self.size[1] - dp(16)

        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, None
            height: self.minimum_height

            Label:
                id: comment_owner_name
                size_hint: 9, None
                height: self.texture_size[1]
                padding: dp(8), dp(0)
                text_size: self.width, None
                valign: 'center'
                halign: 'left'
                markup: True
                color: app.theme_palette['text_background_color']

            BoxLayout:
                id: comment_option_holder
                orientation: 'horizontal'
                size_hint: 2, 1

        Label:
            id: comment_content
            size_hint: 1, None
            height: self.texture_size[1]
            padding: dp(8), dp(0)
            text_size: self.width, None
            color: app.theme_palette['text_background_color']

        BoxLayout:
            size_hint: 1, None
            height: self.minimum_height
            orientation: 'horizontal'

            IconButton:
                id: comment_upvote_num
                size_hint: 1, None
                height: self.texture_size[1]
                color: app.theme_palette['support_text_color']
                icon: '%s' % icon('heart', int(sp(10)))
                on_release: root.comment_upvote()

            IconButton:
                id: comment_comment_num
                size_hint: 1, 1
                color: app.theme_palette['support_text_color']
                font_size: sp(14)
                icon: '%s' % icon('comment-alt', int(sp(10)))
                on_release: root.display_comment_reply()

            Label:
                id: comment_time
                size_hint: 7, 1
                text_size: self.size
                halign: 'right'
                padding: dp(8), dp(0)
                font_size: sp(14)
                color: app.theme_palette['support_text_color']